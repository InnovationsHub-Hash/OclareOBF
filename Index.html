<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Oclare Obfuscator V1.0</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{background:#050508;color:#fff;font-family:monospace;padding:20px}
textarea{width:100%;height:220px;background:#0c0c14;color:#fff;border:1px solid #222;padding:10px}
button{margin-top:10px;padding:12px 20px;background:#ff2d95;border:none;color:#fff;cursor:pointer}
.stats{margin-top:10px;color:#aaa;font-size:12px}
</style>
</head>
<body>

<h2>Oclare Obfuscator V1.0</h2>

<textarea id="input" placeholder="Paste Lua here..."></textarea>
<button id="obfBtn">Obfuscate</button>
<textarea id="output" placeholder="Obfuscated output..." readonly></textarea>

<div class="stats">
<span id="sTime">0ms</span> â€¢
<span id="sSize">0 B</span>
</div>

<script>
const worker = new Worker('./Oclare-Worker.js');
const input = document.getElementById('input');
const output = document.getElementById('output');
const btn = document.getElementById('obfBtn');
const sTime = document.getElementById('sTime');
const sSize = document.getElementById('sSize');

btn.onclick = () => {
    const code = input.value.trim();
    if (!code) return;

    btn.disabled = true;
    btn.textContent = 'Processing...';

    const start = performance.now();
    worker.postMessage({ code });

    worker.onmessage = e => {
        output.value = e.data.code;
        sTime.textContent = Math.round(performance.now() - start) + 'ms';
        sSize.textContent = e.data.code.length + ' B';
        btn.disabled = false;
        btn.textContent = 'Obfuscate';
    };
};
</script>

</body>
</html>
